<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/swizecblog/component---src-components-post-js.345c7c4f16662f410581.css">@import url(https://fonts.googleapis.com/css?family=Lora);
html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:Lora,serif}body{background-color:#f6f6f6;margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Lora,serif;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em georgia,serif;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{-moz-font-feature-settings:"kern","liga","clig","calt";-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";color:rgba(0,0,0,.8);font-family:Lora,serif;font-feature-settings:"kern","liga","clig","calt";font-kerning:normal;font-weight:400;word-wrap:break-word}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem;word-wrap:normal}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:Lora,serif;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}

/*# sourceMappingURL=component---src-components-post-js.345c7c4f16662f410581.css.map*/</style><style data-styled-components="cEsjyT hklXLQ gpHXOM cTUdjA">
/* sc-component-id: sc-bdVaJa */
.cEsjyT{margin:3rem auto;max-width:960px;padding:1.25rem 1rem;} .cEsjyT ul{margin:0 0 0px 0;list-style:none;float:right;}
/* sc-component-id: sc-bwzfXH */
.cTUdjA{-webkit-text-decoration:none;text-decoration:none;text-align:right;margin:0 .5rem 0 .5rem;padding:10px;color:#7c51a1;} .cTUdjA:hover{color:#fff;background-color:#7c51a1;}
/* sc-component-id: sc-htpNat */
.gpHXOM{-webkit-text-decoration:none;text-decoration:none;color:black;} .gpHXOM:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#7c51a1;} .gpHXOM h3{display:inline;font-size:30px;}
/* sc-component-id: sc-bxivhb */
.hklXLQ{margin:0 3rem 4.5rem;}</style><title data-react-helmet="true">Swizec Blog</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link as="script" rel="preload" href="/swizecblog/component---src-components-post-js-352e8466f0cbd742adc0.js"/><link as="script" rel="preload" href="/swizecblog/0-7538a10af02717828d76.js"/><link as="script" rel="preload" href="/swizecblog/app-e5d3c6935dd41a7392ed.js"/><link as="script" rel="preload" href="/swizecblog/webpack-runtime-bf7869bd5fe0e771eaf7.js"/><link rel="preload" href="/swizecblog/static/d/830/path---post-single-page-web-apps-the-worst-of-both-worlds-916-147-arCNcGod65XCcRpOEOmHZPsxE8.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div><div class="sc-bdVaJa cEsjyT"><div class="sc-bxivhb hklXLQ"><a class="sc-htpNat gpHXOM" href="/swizecblog/"><h3>Swizec Teller</h3></a><ul><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Business/">Business</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Personal/">Personal</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Technical/">Technical</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Thoughts/">Thoughts</a></ul></div><h1>Single page web apps: the worst of both worlds</h1><div><img class="alignnone" title="Server memory span, xkcd" src="http://imgs.xkcd.com/comics/server_attention_span.png" alt="Server memory span, xkcd" width="666" height="179" />
<p>Single <a class="zem_slink" title="Web page" href="http://en.wikipedia.org/wiki/Web_page" rel="wikipedia" target="_blank">page</a> <a class="zem_slink" title="Web application" href="http://en.wikipedia.org/wiki/Web_application" rel="wikipedia" target="_blank">web apps</a> are the promised land of modern javascript MVC frameworks like Backbone or Ember.</p>
<p>Deliver a dynamic experience right to the browser, they said, use the <a class="zem_slink" title="Server (computing)" href="http://en.wikipedia.org/wiki/Server_%28computing%29" rel="wikipedia" target="_blank">server</a> like a smart database, they said. Your site will be quicker and your users will love it, they said. Page loads in the blink of a second, static content via <a class="zem_slink" title="Content delivery network" href="http://en.wikipedia.org/wiki/Content_delivery_network" rel="wikipedia" target="_blank">CDN</a>, no more flickery full page reloads &#8230; they said.</p>
<p>All of those promises are true.</p>
<p>Servers should handle data. They&#8217;re very good at that and having a central authority to handle <a class="zem_slink" title="Data consistency" href="http://en.wikipedia.org/wiki/Data_consistency" rel="wikipedia" target="_blank">data consistency</a> amongst clients is perhaps the simplest distributed system architecture one can think of. Sure, it gets a bit complicate when <em>&#8220;A server&#8221;</em> becomes a few tens of boxes spread out in data centers across the globe, but that&#8217;s still not the client&#8217;s problem.</p>
<p>Conversely, clients are <em>exceptionally</em> good at presenting data! It&#8217;s practically all they do. They give some data to the user, then they sit quietly in the user&#8217;s face <del>waiting</del>screaming to be poked so they can send some changes back to the server.</p>
<p>This separation makes sense.</p>
<p>Makes organising teams easier, separating talent becomes a walk in the park, it&#8217;s even friendlier for the user who doesn&#8217;t have to wait for a signal to travel halfway around the world just to open a menu!</p>
<p>Win-win-win!</p>
<h2>Not really.</h2>
<div style="width: 310px" class="wp-caption alignright"><img title="Trello - perhaps the best web app I've seen" src="http://farm9.staticflickr.com/8438/7997838999_ab00c71330.jpg" alt="Trello - perhaps the best web app I've seen" width="300" height="200" /><p class="wp-caption-text">Trello &#8211; perhaps the best web app I&#8217;ve seen</p></div>
<p>Good single page web apps are a bitch to develop. A bitch with a few screws loose, to put it mildly.</p>
<p>In traditional web development the one thing you can count on is everything being stateless. A request comes in containing everything you need to know, <em>maybe</em> you have to fetch a few things from a database. Once you&#8217;ve answered the request, that&#8217;s it, you don&#8217;t care about the client until a new request comes in.</p>
<p>This is easy. Easy to reason about, easy to make robust, easy to test and easy to avoid strange errors. You&#8217;re basically ensuring a clean slate <em>every time</em>.</p>
<p>In traditional app development, you know for a fact everything is <a class="zem_slink" title="State (computer science)" href="http://en.wikipedia.org/wiki/State_%28computer_science%29" rel="wikipedia" target="_blank">stateful</a>. You keep things in memory and you <em>know</em> that&#8217;s where they will remain until the app is closed and reopened. Nothing will randomly go missing and nobody seriously expects you to maintain state across sessions.</p>
<p>Yeah yeah, sometimes gunk can accumulate when an app is left running too long. A restart either of the machine or the app usually solves the problem and even though many apps and even OS&#8217;s have started experimenting with cross-session state it still isn&#8217;t expected.</p>
<p>A lot of people don&#8217;t even want to <em>restore tabs</em>!</p>
<p>This clear divide between websites and apps helps in a lot of ways. Mostly it separates developers into those who don&#8217;t have a problem re-imagining their universe around every request from those who prefer dealing with accumulating memory gunk.</p>
<p>And then come modern web apps. Sitting confusingly on the fence between both worlds.</p>
<p>Very simple in theory &#8211; the server is stateless and the frontend is stateful.</p>
<p>But think about it. The frontend is stateful in the sense that very complex things can happen when the user clicks around. Data changes in memory and we expect the data to stay there, javascript being asynchronous aaaaalmost creates all the same problems traditional developers deal with in regards to multi-threaded code and it&#8217;s very easy to accumulate all that gunk and start producing some <em>very</em> strange errors.</p>
<p>Then your user clicks refresh.</p>
<p>Sometimes right after losing wi-fi signal in the middle of sending a request to the server &#8230; or they closed the browser. Maybe it&#8217;s not even the same user because they shared a link!</p>
<p>Bang! Your app stateful just lost state.</p>
<p>After a refresh the user expects to see exactly the same things they saw before. That&#8217;s how the web works, right? You click around and you send a link to somebody and <em>it&#8217;s the same thing</em>. You don&#8217;t expect to sometimes get the homepage and sometimes a blog post when going to <em>/blog/some-title-of-a-post</em></p>
<p>As developers we&#8217;ve found ourselves in a situation where we must assume our app is both stateless <strong>and </strong>stateful. Every <a class="zem_slink" title="Uniform Resource Locator" href="http://en.wikipedia.org/wiki/Uniform_Resource_Locator" rel="wikipedia" target="_blank">URL</a> still points to a unique page, but if you got there after a reload, all the models must be refetched from server &#8211; preferably the server would bootstrap them into place &#8211; all open sockets must be re-established and a bunch of other minor things have to be taken care of.</p>
<p>All in all, you get at least double of the complexity and for what? A shinier and smoother experience for the user &#8230; which is exactly what we want.</p>
<p>I would love to propose a good solution for this problem. But I can&#8217;t. I am left sitting here, wondering, <em>hoping</em> for a humane solution to this conundrum. My Google searches are coming up short.</p>
<h6 class="zemanta-related-title" style="font-size: 1em;">Related articles</h6>
<ul class="zemanta-article-ul zemanta-article-ul-image" style="margin: 0; padding: 0; overflow: hidden;">
<li class="zemanta-article-ul-li-image zemanta-article-ul-li" style="padding: 0; background: none; list-style: none; display: block; float: left; vertical-align: top; text-align: left; width: 84px; font-size: 11px; margin: 2px 10px 10px 2px;"><a style="box-shadow: 0px 0px 4px #999; padding: 2px; display: block; border-radius: 2px; text-decoration: none;" href="http://stackoverflow.com/questions/13323384/web-app-development-questions" target="_blank"><img style="padding: 0; margin: 0; border: 0; display: block; width: 80px; max-width: 100%;" src="http://i.zemanta.com/noimg_114_80_80.jpg" alt="" /></a><a style="display: block; overflow: hidden; text-decoration: none; line-height: 12pt; height: 80px; padding: 5px 2px 0 2px;" href="http://stackoverflow.com/questions/13323384/web-app-development-questions" target="_blank">Web app development questions</a></li>
<li class="zemanta-article-ul-li-image zemanta-article-ul-li" style="padding: 0; background: none; list-style: none; display: block; float: left; vertical-align: top; text-align: left; width: 84px; font-size: 11px; margin: 2px 10px 10px 2px;"><a style="box-shadow: 0px 0px 4px #999; padding: 2px; display: block; border-radius: 2px; text-decoration: none;" href="http://www.i-programmer.info/professional-programmer/i-programmer/4982-the-disasterous-fragmentation-of-web-apps.html" target="_blank"><img style="padding: 0; margin: 0; border: 0; display: block; width: 80px; max-width: 100%;" src="http://i.zemanta.com/noimg_128_80_80.jpg" alt="" /></a><a style="display: block; overflow: hidden; text-decoration: none; line-height: 12pt; height: 80px; padding: 5px 2px 0 2px;" href="http://www.i-programmer.info/professional-programmer/i-programmer/4982-the-disasterous-fragmentation-of-web-apps.html" target="_blank">The Disastrous Fragmentation Of Web Apps</a></li>
<li class="zemanta-article-ul-li-image zemanta-article-ul-li" style="padding: 0; background: none; list-style: none; display: block; float: left; vertical-align: top; text-align: left; width: 84px; font-size: 11px; margin: 2px 10px 10px 2px;"><a style="box-shadow: 0px 0px 4px #999; padding: 2px; display: block; border-radius: 2px; text-decoration: none;" href="http://blog.dynatrace.com/2012/09/26/why-page-size-matters-even-more-for-mobile-web-apps/" target="_blank"><img style="padding: 0; margin: 0; border: 0; display: block; width: 80px; max-width: 100%;" src="http://i.zemanta.com/noimg_74_80_80.jpg" alt="" /></a><a style="display: block; overflow: hidden; text-decoration: none; line-height: 12pt; height: 80px; padding: 5px 2px 0 2px;" href="http://blog.dynatrace.com/2012/09/26/why-page-size-matters-even-more-for-mobile-web-apps/" target="_blank">Why Page Size Matters even more for Mobile Web Apps</a></li>
<li class="zemanta-article-ul-li-image zemanta-article-ul-li" style="padding: 0; background: none; list-style: none; display: block; float: left; vertical-align: top; text-align: left; width: 84px; font-size: 11px; margin: 2px 10px 10px 2px;"><a style="box-shadow: 0px 0px 4px #999; padding: 2px; display: block; border-radius: 2px; text-decoration: none;" href="http://betakit.com/2012/10/31/mention-launches-social-media-and-web-monitoring-app-to-take-on-google-alerts" target="_blank"><img style="padding: 0; margin: 0; border: 0; display: block; width: 80px; max-width: 100%;" src="http://i.zemanta.com/122561695_80_80.jpg" alt="" /></a><a style="display: block; overflow: hidden; text-decoration: none; line-height: 12pt; height: 80px; padding: 5px 2px 0 2px;" href="http://betakit.com/2012/10/31/mention-launches-social-media-and-web-monitoring-app-to-take-on-google-alerts" target="_blank">Mention Launches Social Media and Web Monitoring App to Take On Google Alerts</a></li>
</ul>
<div class="zemanta-pixie" style="margin-top: 10px; height: 15px;"><a class="zemanta-pixie-a" title="Enhanced by Zemanta" href="http://www.zemanta.com/?px"><img class="zemanta-pixie-img" style="border: none; float: right;" src="http://img.zemanta.com/zemified_e.png?x-id=e0b4d69c-e979-45b9-a912-6cbeb3833898" alt="Enhanced by Zemanta" /></a></div>
</div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-components-post-js","jsonName":"post-single-page-web-apps-the-worst-of-both-worlds-916","path":"/post/single-page-web-apps-the-worst-of-both-worlds/"};window.dataPath="830/path---post-single-page-web-apps-the-worst-of-both-worlds-916-147-arCNcGod65XCcRpOEOmHZPsxE8";/*]]>*/</script><script src="/swizecblog/webpack-runtime-bf7869bd5fe0e771eaf7.js" async=""></script><script src="/swizecblog/app-e5d3c6935dd41a7392ed.js" async=""></script><script src="/swizecblog/0-7538a10af02717828d76.js" async=""></script><script src="/swizecblog/component---src-components-post-js-352e8466f0cbd742adc0.js" async=""></script></body></html>