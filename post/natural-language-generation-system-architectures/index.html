<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/swizecblog/component---src-components-post-js.345c7c4f16662f410581.css">@import url(https://fonts.googleapis.com/css?family=Lora);
html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:Lora,serif}body{background-color:#f6f6f6;margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Lora,serif;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em georgia,serif;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{-moz-font-feature-settings:"kern","liga","clig","calt";-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";color:rgba(0,0,0,.8);font-family:Lora,serif;font-feature-settings:"kern","liga","clig","calt";font-kerning:normal;font-weight:400;word-wrap:break-word}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem;word-wrap:normal}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:Lora,serif;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}

/*# sourceMappingURL=component---src-components-post-js.345c7c4f16662f410581.css.map*/</style><style data-styled-components="cEsjyT hklXLQ gpHXOM cTUdjA">
/* sc-component-id: sc-bdVaJa */
.cEsjyT{margin:3rem auto;max-width:960px;padding:1.25rem 1rem;} .cEsjyT ul{margin:0 0 0px 0;list-style:none;float:right;}
/* sc-component-id: sc-bwzfXH */
.cTUdjA{-webkit-text-decoration:none;text-decoration:none;text-align:right;margin:0 .5rem 0 .5rem;padding:10px;color:#7c51a1;} .cTUdjA:hover{color:#fff;background-color:#7c51a1;}
/* sc-component-id: sc-htpNat */
.gpHXOM{-webkit-text-decoration:none;text-decoration:none;color:black;} .gpHXOM:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#7c51a1;} .gpHXOM h3{display:inline;font-size:30px;}
/* sc-component-id: sc-bxivhb */
.hklXLQ{margin:0 3rem 4.5rem;}</style><title data-react-helmet="true">Swizec Blog</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link as="script" rel="preload" href="/swizecblog/component---src-components-post-js-352e8466f0cbd742adc0.js"/><link as="script" rel="preload" href="/swizecblog/0-7538a10af02717828d76.js"/><link as="script" rel="preload" href="/swizecblog/app-e5d3c6935dd41a7392ed.js"/><link as="script" rel="preload" href="/swizecblog/webpack-runtime-bf7869bd5fe0e771eaf7.js"/><link rel="preload" href="/swizecblog/static/d/646/path---post-natural-language-generation-system-architectures-5-ec-06b-lwwn4SbFmUl0M35w8khv9nhcik.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div><div class="sc-bdVaJa cEsjyT"><div class="sc-bxivhb hklXLQ"><a class="sc-htpNat gpHXOM" href="/swizecblog/"><h3>Swizec Teller</h3></a><ul><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Business/">Business</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Personal/">Personal</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Technical/">Technical</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Thoughts/">Thoughts</a></ul></div><h1>Natural Language Generation system architectures</h1><div><p>This post is summarized from Chapter 3 of <a href="http://staf.cs.ui.ac.id/~maruli/" target="_blank">Ruli Manurung</a>&#8216;s <em><a href="https://docs.google.com/viewer?url=http%3A%2F%2Fwww.inf.ed.ac.uk%2Fpublications%2Fthesis%2Fonline%2FIP040022.pdf" target="_blank">An evolutionary algorithm approach to poetry generation</a></em> from 2003 &#8211; it is essentially 10 years old research from a fast moving field of science. However, these are core principles and techniques; a casual perusal of wikipedia indicates they are still valid.</p>
<p>If you know of something new and spectacular, I&#8217;d love to know.</p>
<h2><a class="zem_slink" title="Natural language generation" href="http://en.wikipedia.org/wiki/Natural_language_generation" rel="wikipedia" target="_blank">Natural Language Generation</a></h2>
<p>So what is natural language generation anyway? The only thing everyone can agree on is that the algorithm should take some manner of input and output a sensible text that a human can read and understand.</p>
<div style="width: 323px" class="wp-caption alignright"><img title="Trisk - a conversational robot" src="http://web.media.mit.edu/~dkroy/img/research/feature/trisk.jpg" alt="Trisk - a conversational robot" width="313" height="315" /><p class="wp-caption-text">Trisk - a conversational robot</p></div>
<p>Formally defined, a NLG system should accept a <em>&lt;k,c,u,d&gt;</em> tuple, where <em>k</em> is the knowledge source, <em>c</em> is the communicative goal, <em>u</em> is the user model and <em>d</em> is the discourse model. Essentially this means that <em>&#8220;You know K and you want to say C to U, using the style of D&#8221;</em> &#8230; remember back to your high school days &#8211; before writing an essay the teacher would tell you exactly this.</p>
<p>The output &#8230; well that&#8217;s easier, it should make sense, fulfill the communicative goal and look like it was written at least by a trained monkey.</p>
<p>A NLG system usually involves three processes:</p>
<ol>
<li><a class="zem_slink" title="Content determination" href="http://en.wikipedia.org/wiki/Content_determination" rel="wikipedia" target="_blank">Content determination</a> &#8211; what you&#8217;re going to say, based on knowledge, communicative goal and user&#8217;s expectations</li>
<li>Sentence planning &#8211; how are you going to say it. Remember, semantically sane!</li>
<li>Surface realisation &#8211; the final output, which specific words to use, do sentences follow each other nicely and so on. You could call this <em>style </em>or <em>flow</em>.</li>
</ol>
<h2>Traditional architecture</h2>
<p>Traditionally this has been approached by discretely implementing the three stages and assembling them into a pipeline of some sort.</p>
<div id="attachment_4539" style="width: 577px" class="wp-caption alignnone"><a href="http://swizec.com/blog/wp-content/uploads/2012/05/three-reiter-pipeline-architecture.png"><img class="size-full wp-image-4539" title="Three reiter pipeline architecture" src="http://swizec.com/blog/wp-content/uploads/2012/05/three-reiter-pipeline-architecture.png" alt="Three reiter pipeline architecture" width="567" height="121" srcset="https://swizec.com/blog/wp-content/uploads/2012/05/three-reiter-pipeline-architecture.png 567w, https://swizec.com/blog/wp-content/uploads/2012/05/three-reiter-pipeline-architecture-300x64.png 300w" sizes="(max-width: 567px) 100vw, 567px" /></a></dt>
</dl>
</div>
<p>More modernly <a href="http://en.wikipedia.org/wiki/Natural_language_generation#Stages" target="_blank">Wikipedia suggests a six stage solution</a> divided into: Content determination, <a class="zem_slink" title="Document structuring" href="http://en.wikipedia.org/wiki/Document_structuring" rel="wikipedia" target="_blank">Document structuring</a>, Aggregation, <a class="zem_slink" title="Lexical choice" href="http://en.wikipedia.org/wiki/Lexical_choice" rel="wikipedia" target="_blank">Lexical choice</a>, <a class="zem_slink" title="Referring expression generation" href="http://en.wikipedia.org/wiki/Referring_expression_generation" rel="wikipedia" target="_blank">Referring expression generation</a> and Realisation. However this is still essentially the same approach.</p>
<p>But what if you don&#8217;t have a clear communicative goal and just want to say something interesting about a subject? Or perhaps a later stage might find a better solution that has been disallowed by an earlier stage.</p>
<p>A number of different architectures have emerged to combat these problems:</p>
<a href="http://swizec.com/blog/wp-content/uploads/2012/05/NLG-architectures.png"><img class="alignnone size-full wp-image-4540" title="NLG architectures" src="http://swizec.com/blog/wp-content/uploads/2012/05/NLG-architectures.png" alt="NLG architectures" width="381" height="344" srcset="https://swizec.com/blog/wp-content/uploads/2012/05/NLG-architectures.png 381w, https://swizec.com/blog/wp-content/uploads/2012/05/NLG-architectures-300x270.png 300w" sizes="(max-width: 381px) 100vw, 381px" /></a>
<p>The <strong>revision approach</strong> combats problems by iteratively fixing each stage in hopes of finding something better, <strong>feedback</strong> simply feeds findings from later stages back into earlier stages, which can open up options that would otherwise be pruned away, <strong>blackboard</strong> is particularly interesting because it uses a common space where results from different stages are posted so every stage has access to what&#8217;s already out there.</p>
<p>But without a clear communicative goal or end user in mind, the <strong>integrated</strong> approach looks most promising.</p>
<h2>NLG as a search problem</h2>
<p>One way to approach natural language generation in an integrated manner is by posing it as a search problem &#8211; you have a search space of possible solutions, your job is merely to find the best.</p>
<div class="mceTemp">
<dl id="" class="wp-caption alignright" style="width: 361px;">
<dt class="wp-caption-dt"><img class="  " title="A search space" src="http://graphvisualizer.org/images/examples/nc_gilbert.png" alt="A search space" width="351" height="221" /><p class="wp-caption-text">A search space</p></div>
<p>This can be done in many ways:</p>
<ul>
<li><strong>hillclimbing</strong> &#8211; take a random spot on the map. With each step, consider all possible moves and move in the best direction. Hope you don&#8217;t get trapped in a local maximum</li>
<li><strong>systemic search</strong>&#8211; go through all possible solutions and find the best one. Problem with this approach is that it can take a while to finish, but you always get the most optimal solutionFour main ways exist to implement this: chart generation (use charts to define the search space and go from there), <a class="zem_slink" title="Reason maintenance" href="http://en.wikipedia.org/wiki/Reason_maintenance" rel="wikipedia" target="_blank">truth maintenance systems</a> (have assumptions, make sure they stay true), &#8220;redefining the search problem&#8221; (a lot of invalid choices can be pruned out based on linguistic knowledge, which helps with the explosive search space size), constraint logic programming (everyone who&#8217;s done a prolog course has seen this I think)</li>
<li><strong>stochastic search</strong> &#8211; this is my favorite approach since it involves a bunch of interesting algorithms. The basic idea is that you can define a set of constraints and then &#8220;guess&#8221; solutions based on those constraints. But since each constraint is probabilistic, you have a lot of flexibility in coming up with solutions.</li>
</ul>
<h2>Overgeneration and ranking</h2>
<p>This approach is based on the model of an <em>author</em> and a <em>reviewer</em>. The author continuously outputs a bunch of plausible solutions that the reviewer then ranks on viability and finally picks one to present to the user.</p>
<a href="http://swizec.com/blog/wp-content/uploads/2012/05/author-reviewer-model.png"><img class="alignnone size-full wp-image-4541" title="Author-reviewer model" src="http://swizec.com/blog/wp-content/uploads/2012/05/author-reviewer-model.png" alt="Author-reviewer model" width="721" height="377" srcset="https://swizec.com/blog/wp-content/uploads/2012/05/author-reviewer-model.png 721w, https://swizec.com/blog/wp-content/uploads/2012/05/author-reviewer-model-300x156.png 300w" sizes="(max-width: 721px) 100vw, 721px" /></a>
<p>The beauty of this approach lies in the fact that each part of the system only has to concern itself with what it does best, while they still collaborate so you aren&#8217;t trapped in a pipeline architecture.</p>
<h2>Opportunistic planning</h2>
<p>Opportunistic planning is an approach that works best when you don&#8217;t have a clearly defined communicative goal &#8211; so how do you know when you&#8217;ve found the solution?</p>
<div style="width: 310px" class="wp-caption alignright"><img title="A jewelry" src="http://3.bp.blogspot.com/-sxeHKJFWoSY/TahM2cBBSoI/AAAAAAAAA9U/velz_DWTJdg/s1600/antique-jewelry-antique-jewellery.jpg" alt="A jewelry" width="300" height="300" /><p class="wp-caption-text">A jewelry</p></div>
<p>This approach was developed for a system that produced description labels for items in a museum. From what I understand users could virtually click around a collection of jewelry, giving the NLG system a simple goal of <em>tell me something interesting about this.</em></p>
<p>Without any clear goals and users, even without much advance knowledge of what the system will be talking about, the only viable approach is generating text based on opportunity, like a human guide would.</p>
<p>The crowning moment is when it can connect subsequent items into  something like <em>&#8220;&#8230;and it was work like this which directly inspired work like the Roger Morris brooch on the stand which we looked at earlier”</em></p>
<h2>Poetry?</h2>
<p>Poetry suffers from a lot of the problems other NLG systems have already had to tackle &#8211; a unity of content and form, lack of clearly defined goals etc.</p>
<p>Therefore the best approach we can take is some combination of opportunistic planning, which gives us the ability to have lightbulb moments while writing poetry, and stochastic search, which gives us the needed flexibility in the face of many constraints without any goals.</p>
<h6 class="zemanta-related-title" style="font-size: 1em;">Related articles</h6>
<ul class="zemanta-article-ul">
<li class="zemanta-article-ul-li"><a href="http://swizec.com/blog/science-wednesday-defining-poetry/swizec/4079" target="_blank">Science Wednesday: Defining poetry</a> (swizec.com)</li>
<li class="zemanta-article-ul-li"><a href="http://swizec.com/blog/making-our-irc-bot-talk/swizec/4243" target="_blank">Making our irc bot talk</a> (swizec.com)</li>
<li class="zemanta-article-ul-li"><a href="http://lingpipe-blog.com/2012/03/31/natural-language-generation-for-spam/" target="_blank">Natural Language Generation for Spam</a> (lingpipe-blog.com)</li>
<li class="zemanta-article-ul-li"><a href="http://swizec.com/blog/science-wednesday-towards-a-computational-model-of-poetry-generation/swizec/3855" target="_blank">Science Wednesday: Towards a computational model of poetry generation</a> (swizec.com)</li>
</ul>
<div class="zemanta-pixie" style="margin-top: 10px; height: 15px;"><a class="zemanta-pixie-a" title="Enhanced by Zemanta" href="http://www.zemanta.com/?px"><img class="zemanta-pixie-img" style="border: none; float: right;" src="http://img.zemanta.com/zemified_e.png?x-id=d650edd8-aed4-4c7a-b260-90132b553987" alt="Enhanced by Zemanta" /></a></div>
</div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-components-post-js","jsonName":"post-natural-language-generation-system-architectures-5ec","path":"/post/natural-language-generation-system-architectures/"};window.dataPath="646/path---post-natural-language-generation-system-architectures-5-ec-06b-lwwn4SbFmUl0M35w8khv9nhcik";/*]]>*/</script><script src="/swizecblog/webpack-runtime-bf7869bd5fe0e771eaf7.js" async=""></script><script src="/swizecblog/app-e5d3c6935dd41a7392ed.js" async=""></script><script src="/swizecblog/0-7538a10af02717828d76.js" async=""></script><script src="/swizecblog/component---src-components-post-js-352e8466f0cbd742adc0.js" async=""></script></body></html>