<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/swizecblog/component---src-components-post-js.345c7c4f16662f410581.css">@import url(https://fonts.googleapis.com/css?family=Lora);
html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:Lora,serif}body{background-color:#f6f6f6;margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Lora,serif;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em georgia,serif;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{-moz-font-feature-settings:"kern","liga","clig","calt";-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";color:rgba(0,0,0,.8);font-family:Lora,serif;font-feature-settings:"kern","liga","clig","calt";font-kerning:normal;font-weight:400;word-wrap:break-word}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem;word-wrap:normal}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:Lora,serif;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}

/*# sourceMappingURL=component---src-components-post-js.345c7c4f16662f410581.css.map*/</style><style data-styled-components="cEsjyT hklXLQ gpHXOM cTUdjA">
/* sc-component-id: sc-bdVaJa */
.cEsjyT{margin:3rem auto;max-width:960px;padding:1.25rem 1rem;} .cEsjyT ul{margin:0 0 0px 0;list-style:none;float:right;}
/* sc-component-id: sc-bwzfXH */
.cTUdjA{-webkit-text-decoration:none;text-decoration:none;text-align:right;margin:0 .5rem 0 .5rem;padding:10px;color:#7c51a1;} .cTUdjA:hover{color:#fff;background-color:#7c51a1;}
/* sc-component-id: sc-htpNat */
.gpHXOM{-webkit-text-decoration:none;text-decoration:none;color:black;} .gpHXOM:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#7c51a1;} .gpHXOM h3{display:inline;font-size:30px;}
/* sc-component-id: sc-bxivhb */
.hklXLQ{margin:0 3rem 4.5rem;}</style><title data-react-helmet="true">Swizec Blog</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link as="script" rel="preload" href="/swizecblog/component---src-components-post-js-a296f4540b7641f60fd0.js"/><link as="script" rel="preload" href="/swizecblog/0-7538a10af02717828d76.js"/><link as="script" rel="preload" href="/swizecblog/app-e5d3c6935dd41a7392ed.js"/><link as="script" rel="preload" href="/swizecblog/webpack-runtime-fb9019140f39a903448b.js"/><link rel="preload" href="/swizecblog/static/d/387/path---post-advent-code-day-19-series-tubes-452-6df-Kevf9injByZ93mnvnNgcsl6Sw.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div><div class="sc-bdVaJa cEsjyT"><div class="sc-bxivhb hklXLQ"><a class="sc-htpNat gpHXOM" href="/swizecblog/blog/"><h3>Swizec Teller</h3></a><ul><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Business/">Business</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Personal/">Personal</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Technical/">Technical</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Thoughts/">Thoughts</a></ul></div><h1>Advent of Code Day 19 â€“ A Series of Tubes</h1><div><p><iframe width="580" height="326" src="https://www.youtube.com/embed/3f_f1T7kaK4?feature=oembed" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe></p>
<p>Advent of Code Day 19 was one of those light, easy challenges. Just hard enough to make you think a little, easy enough to solve in 20 minutes.</p>
<p>This could make a great interview question ðŸ¤”</p>
<p>The gist of the problem is this:</p>
<ul>
<li>you are given an ASCII drawing of a path</li>
<li>you have to follow it to the end</li>
<li>collect letters as you pass them</li>
<li>print them in sequence</li>
</ul>
<p>For a map like this ðŸ‘‡</p>
<pre><code>     |          
     |  +--+    
     A  |  C    
 F---|----E|--+ 
     |  |  |  D 
     +B-+  +--+ 
</code></pre>
<p>Your result is <code>ABCDEF</code>.</p>
<p>The real map isâ€¦ bigger. 201&#215;201 characters. Or at least mine was.</p>
<p>Far too large to trace with your finger. I mean, you <em>could</em> if you had the patience of a gnat, but that&#8217;s why the 2nd part of today&#8217;s puzzle asks you to count the number of steps.</p>
<img class="alignnone size-full wp-image-7984" src="https://swizec.com/blog/wp-content/uploads/2017/12/carbon-2.png" width="1634" height="1226" srcset="https://swizec.com/blog/wp-content/uploads/2017/12/carbon-2.png 1634w, https://swizec.com/blog/wp-content/uploads/2017/12/carbon-2-300x225.png 300w, https://swizec.com/blog/wp-content/uploads/2017/12/carbon-2-768x576.png 768w, https://swizec.com/blog/wp-content/uploads/2017/12/carbon-2-1024x768.png 1024w" sizes="(max-width: 1634px) 100vw, 1634px" />
<p>Ain&#8217;t nobody got the patience to count the number of steps by hand.</p>
<p>Luckily coding up a solution in Python is pretty simple.</p>
<p>You take a current position, <code>pos</code>, that starts at the only <code>|</code> in top row â€“&nbsp;your entry point. And a vector <code>(vy, vx)</code> pointing downwards, <code>(1, 0)</code>, and you travel through the map.</p>
<p>If you encounter a corner, <code>input[y][x] == '+'</code>, you change direction â€“&nbsp;the movement vector. If so far you were traveling vertically, then you go either left or right depending on which direction has inputs. If you were traveling horizontally, then you switch to vertical.</p>
<pre lang="python">
        if input[y][x] == "+":
            if vy != 0:
                # go left or right
                if input[y][x-1] == "-" or input[y][x-1] in "ABCDEFGHIJKLMNOPQRSTUVWXYZ":
                    vy = 0
                    vx = -1
                else:
                    vy = 0
                    vx = 1
            else:
                # go up or down
                if input[y-1][x] == "|" or input[y-1][x] in "ABCDEFGHIJKLMNOPQRSTUVWXYZ":
                    vy = -1
                    vx = 0
                else:
                    vy = 1
                    vx = 0
</pre>
<p><code>vy</code> being different than <code>0</code> tells you that you&#8217;ve been moving vertically. If there&#8217;s something to the left, you go there; otherwise, you go the opposite direction.</p>
<p>Same approach for the horizontal change.</p>
<p>When you encounter a letter, you add it to the list of letters.</p>
<pre lang="python">
        elif input[y][x] not in ["-", "|"]:
            letters.append(input[y][x])
</pre>
<p>In the end, you make sure to update your current position and steps counter.</p>
<pre lang="python">
        steps += 1
        pos = (y + vy, x + vx)
</pre>
<p>That applies the movement vector to our position <code>pos</code> and increments the <code>steps</code> counter. Easy ðŸ‘Œ</p>
<p>When we put it all together and add a loop, the path following implementation looks like this ðŸ‘‡</p>
<pre lang="python">
def followpath(input):
    linelen = max(len(line) for line in input.split("\n"))
    input = [line.ljust(linelen, " ") for line in input.split("\n") if len(line) > 0]

    pos = (0, input[0].index("|"))
    vx = 0
    vy = 1
    letters = []
    steps = 0

    print linelen, len(input)

    while True:
        y, x = pos

        if y < 0 or y >= len(input) or x < 0 or x >= linelen or input[y][x] == " ":
            return steps, letters

        if input[y][x] == "+":
            if vy != 0:
                # go left or right
                if input[y][x-1] == "-" or input[y][x-1] in "ABCDEFGHIJKLMNOPQRSTUVWXYZ":
                    vy = 0
                    vx = -1
                else:
                    vy = 0
                    vx = 1
            else:
                # go up or down
                if input[y-1][x] == "|" or input[y-1][x] in "ABCDEFGHIJKLMNOPQRSTUVWXYZ":
                    vy = -1
                    vx = 0
                else:
                    vy = 1
                    vx = 0
        elif input[y][x] not in ["-", "|"]:
            letters.append(input[y][x])
        
        steps += 1
        pos = (y + vy, x + vx)
</pre>
<p>We prep the input, start an infinite loop, break out of the loop when we fall outside the <code>input</code> field or hit an empty spot (meaning line is over), and use our path-following logic to move around.</p>
<p>Eventually, we reach the end of the line and return our result: The number of steps and the sequence of letters encountered.</p>
<p>You can see <a href="https://github.com/Swizec/advent-of-code-2017/blob/master/19.py">everything on Github</a>.</p>
<p>That was fun ðŸ¤™</p>
</div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-components-post-js","jsonName":"post-advent-code-day-19-series-tubes-452","path":"/post/advent-code-day-19-series-tubes/"};window.dataPath="387/path---post-advent-code-day-19-series-tubes-452-6df-Kevf9injByZ93mnvnNgcsl6Sw";/*]]>*/</script><script src="/swizecblog/webpack-runtime-fb9019140f39a903448b.js" async=""></script><script src="/swizecblog/app-e5d3c6935dd41a7392ed.js" async=""></script><script src="/swizecblog/0-7538a10af02717828d76.js" async=""></script><script src="/swizecblog/component---src-components-post-js-a296f4540b7641f60fd0.js" async=""></script></body></html>