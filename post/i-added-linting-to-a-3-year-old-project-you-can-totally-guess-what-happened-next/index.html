<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/swizecblog/component---src-components-post-js.15d6bfea4d3b992d9691.css">@import url(https://fonts.googleapis.com/css?family=Lora);
html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:Lora,serif}body{background-color:#f6f6f6;margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Lora,serif;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em georgia,serif;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{-moz-font-feature-settings:"kern","liga","clig","calt";-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";color:rgba(0,0,0,.8);font-family:Lora,serif;font-feature-settings:"kern","liga","clig","calt";-webkit-font-kerning:normal;font-kerning:normal;font-weight:400;word-wrap:break-word}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem;word-wrap:normal}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:Lora,serif;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}

/*# sourceMappingURL=component---src-components-post-js.15d6bfea4d3b992d9691.css.map*/</style><style data-styled-components="cEsjyT hklXLQ gpHXOM cTUdjA">
/* sc-component-id: sc-bdVaJa */
.cEsjyT{margin:3rem auto;max-width:960px;padding:1.25rem 1rem;} .cEsjyT ul{margin:0 0 0px 0;list-style:none;float:right;}
/* sc-component-id: sc-bwzfXH */
.cTUdjA{-webkit-text-decoration:none;text-decoration:none;text-align:right;margin:0 .5rem 0 .5rem;padding:10px;color:#7c51a1;} .cTUdjA:hover{color:#fff;background-color:#7c51a1;}
/* sc-component-id: sc-htpNat */
.gpHXOM{-webkit-text-decoration:none;text-decoration:none;color:black;} .gpHXOM:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#7c51a1;} .gpHXOM h3{display:inline;font-size:30px;}
/* sc-component-id: sc-bxivhb */
.hklXLQ{margin:0 3rem 4.5rem;}</style><title data-react-helmet="true">Swizec Blog</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link as="script" rel="preload" href="/swizecblog/component---src-components-post-js-428e04eacc0b402938d5.js"/><link as="script" rel="preload" href="/swizecblog/0-20c56a8bf68923b243f7.js"/><link as="script" rel="preload" href="/swizecblog/app-f4c654d11b4415967aef.js"/><link as="script" rel="preload" href="/swizecblog/webpack-runtime-559e9e27cf35c66d2ba0.js"/><link rel="preload" href="/swizecblog/static/d/484/path---post-i-added-linting-to-a-3-year-old-project-you-can-totally-guess-what-happened-next-313-d99-9F8vA8LokFYI5E3WEINdm82CIE.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div><div class="sc-bdVaJa cEsjyT"><div class="sc-bxivhb hklXLQ"><a class="sc-htpNat gpHXOM" href="/swizecblog/"><h3>Swizec Teller</h3></a><ul><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Business/">Business</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Personal/">Personal</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Technical/">Technical</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Thoughts/">Thoughts</a></ul></div><h1>I added linting to a 3-year old project. You can totally guess what happened next.</h1><div><figure>
<img src="http://s2.quickmeme.com/img/02/023202045ea7de248922c6458ef3a3bf95ca86401c13c03ae6c800c6a0fcc89a.jpg" alt="" /><br />
</figure>
<p>If that wasn&#8217;t your guess … can I steal your codebase? It must be amazing.</p>
<p>Sometimes, code reviews look like this:</p>
<p>&#8220;Dude, capitals for constants, not camel case.&#8221;</p>
<p>&#8220;Ugh, you missed a console.log.&#8221;</p>
<p>&#8220;Line over 80 char&#8221;</p>
<p>&#8220;Use curly brackets around multiline functions.&#8221;</p>
<p>&#8220;This looks weird.&#8221;</p>
<p>&#8220;Why did you bork indentation?&#8221;</p>
<p>&#8220;Please use consistent spacing.&#8221;</p>
<figure>
<img src="http://i.imgur.com/cQ9VQDs.gif" alt="" /><br />
</figure>
<p>That&#8217;s my <em>&#8220;You missed a console.log&#8221;</em> macro. A few months of that, and very few debugging statements still make it into PRs.</p>
<p>But that shit is exhausting, tedious, and unfun for everyone involved. They thought I was a petty asshole; I thought they were idiots who can&#8217;t even type. How can I trust your code if you can&#8217;t even type? Your whole job is typing!</p>
<p>Honestly, though, the JavaScript runtime doesn&#8217;t care. Most of the things we look for in code review, the compiler<sup><a href="#fn1-20407" id="fnr1-20407" title="see footnote" class="footnote">1</a></sup> removes before your code ever runs.</p>
<p>All this back and forth was fast becoming a waste of everybody&#8217;s time. But code that is hard to read is code that is hard to fix.</p>
<p>This weekend, I added a linter &#8211; an automated way to check code for superficial quality, so that engineers can focus on logic and architecture, not on <code>foo= bla</code> vs. <code>foo = bla</code>. I used <a href="https://codeclimate.com">CodeClimate</a>&#8217;s default suggestions to configure linters for both Ruby and JavaScript.</p>
<p>CodeClimate suggests ESLint for JavaScript linting and a configuration with some 200 rules. Not all rules are enabled, so I guess it lists every option available and enables some sensible defaults.</p>
<figure>
<img src="http://i.imgur.com/kHvfutc.gif" alt="" /><br />
</figure>
<p>856 errors.</p>
<p>Eight hundred and fifty-six errors in a code base with 37,373 lines of code. I promise I didn&#8217;t make up that number. </p>
<figure>
<img src="http://i.imgur.com/k18FN32.png" alt="" /><br />
</figure>
<p>See? I told you I didn’t make it up.</p>
<p>That&#8217;s an error rate of 2% per line of code —&gt; look at any random line and there&#8217;s a 2% chance that you&#8217;ll pick a line with a linting problem. It&#8217;s almost as bad as reading academic code or somebody&#8217;s homework.</p>
<p>A team of professional engineers can do better than a college kid doing homework. Probably.</p>
<p>…</p>
<p>I hope.</p>
<p>We now have objective proof that our codebase is bad, and we should feel bad. Code Climate gave us an overall score of 2.1 out of 4. Not atrocious, just pretty bad.</p>
<p>The question is: how do we fix this?</p>
<p>It&#8217;s going to be a 3-step process:</p>
<ol>
<li>Demote all errors into warnings so that our code compiles at all. We can&#8217;t block feature work to fix all of this.</li>
<li>Decide whether it&#8217;s worth fixing at all</li>
<li>Get team buy-in</li>
</ol>
<p>Team buy-in is going to be the hardest. Writing code that looks good as well as works good smells a lot like extra effort.</p>
<figure>
<img src="https://imgs.xkcd.com/comics/not_enough_work.png" alt="" /><br />
</figure>
<div class="footnotes">
<hr />
<ol>
<li id="fn1-20407">
<p>It’s not really a compiler; it’s the V8 engine or similar. I think it&#8217;s closer in theory to an interpreter than a compiler. <a href="#fnr1-20407" title="return to article" class="reversefootnote">&#8617;&#xFE0E;</a></p>
</li>
</ol>
</div>
</div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-components-post-js","jsonName":"post-i-added-linting-to-a-3-year-old-project-you-can-totally-guess-what-happened-next-313","path":"/post/i-added-linting-to-a-3-year-old-project-you-can-totally-guess-what-happened-next/"};window.dataPath="484/path---post-i-added-linting-to-a-3-year-old-project-you-can-totally-guess-what-happened-next-313-d99-9F8vA8LokFYI5E3WEINdm82CIE";/*]]>*/</script><script src="/swizecblog/webpack-runtime-559e9e27cf35c66d2ba0.js" async=""></script><script src="/swizecblog/app-f4c654d11b4415967aef.js" async=""></script><script src="/swizecblog/0-20c56a8bf68923b243f7.js" async=""></script><script src="/swizecblog/component---src-components-post-js-428e04eacc0b402938d5.js" async=""></script></body></html>