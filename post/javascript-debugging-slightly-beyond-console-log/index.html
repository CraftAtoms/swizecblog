<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/swizecblog/component---src-components-post-js.345c7c4f16662f410581.css">@import url(https://fonts.googleapis.com/css?family=Lora);
html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:Lora,serif}body{background-color:#f6f6f6;margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Lora,serif;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em georgia,serif;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{-moz-font-feature-settings:"kern","liga","clig","calt";-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";color:rgba(0,0,0,.8);font-family:Lora,serif;font-feature-settings:"kern","liga","clig","calt";font-kerning:normal;font-weight:400;word-wrap:break-word}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem;word-wrap:normal}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:Lora,serif;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}

/*# sourceMappingURL=component---src-components-post-js.345c7c4f16662f410581.css.map*/</style><style data-styled-components="cEsjyT hklXLQ gpHXOM cTUdjA">
/* sc-component-id: sc-bdVaJa */
.cEsjyT{margin:3rem auto;max-width:960px;padding:1.25rem 1rem;} .cEsjyT ul{margin:0 0 0px 0;list-style:none;float:right;}
/* sc-component-id: sc-bwzfXH */
.cTUdjA{-webkit-text-decoration:none;text-decoration:none;text-align:right;margin:0 .5rem 0 .5rem;padding:10px;color:#7c51a1;} .cTUdjA:hover{color:#fff;background-color:#7c51a1;}
/* sc-component-id: sc-htpNat */
.gpHXOM{-webkit-text-decoration:none;text-decoration:none;color:black;} .gpHXOM:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#7c51a1;} .gpHXOM h3{display:inline;font-size:30px;}
/* sc-component-id: sc-bxivhb */
.hklXLQ{margin:0 3rem 4.5rem;}</style><title data-react-helmet="true">Swizec Blog</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link as="script" rel="preload" href="/swizecblog/component---src-components-post-js-a296f4540b7641f60fd0.js"/><link as="script" rel="preload" href="/swizecblog/0-7538a10af02717828d76.js"/><link as="script" rel="preload" href="/swizecblog/app-e5d3c6935dd41a7392ed.js"/><link as="script" rel="preload" href="/swizecblog/webpack-runtime-fb9019140f39a903448b.js"/><link rel="preload" href="/swizecblog/static/d/375/path---post-javascript-debugging-slightly-beyond-console-log-a-51-cff-cjnCWJVjT04DGP7fcbX2jiI6IY.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div><div class="sc-bdVaJa cEsjyT"><div class="sc-bxivhb hklXLQ"><a class="sc-htpNat gpHXOM" href="/swizecblog/blog/"><h3>Swizec Teller</h3></a><ul><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Business/">Business</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Personal/">Personal</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Technical/">Technical</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Thoughts/">Thoughts</a></ul></div><h1>Javascript debugging [slightly] beyond console.log</h1><div><div style="width: 690px" class="wp-caption alignnone"><img title="debugger;" alt="debugger;" src="https://draftin.com:443/images/25871?token=9nSMQZvgu-5zU5W2miB9UWdX_YwtIbwJKnZsRV2TEhoLcr8QFJi-teuGfw-InXMn6GT4ZKyi5d703eUas3OqMQ8" width="680" height="433" /><p class="wp-caption-text">debugger;</p></div>
<p>My favourite tool for javascript debugging is <code>console.log</code>.</p>
<p>I mean, I <em>love</em> <code>console.log</code>. If I ever get a programming tattoo, it&#8217;s going to be <code>console.log</code> or some variation thereof. Simple to use, works every time, and every programming language I&#8217;ve used since I was 9 has had some variation of it.</p>
<p><a class="zem_slink" title="Pascal (programming language)" href="http://en.wikipedia.org/wiki/Pascal_%28programming_language%29" target="_blank" rel="wikipedia">Pascal</a> acting up? Not sure what&#8217;s going on? <code>writeln</code></p>
<p><a class="zem_slink" title="Python (programming language)" href="http://www.python.org/" target="_blank" rel="homepage">Python</a> being silly? <code>print</code></p>
<p>C acting funny? <code>printf</code></p>
<p><a class="zem_slink" title="Cascading Style Sheets" href="http://en.wikipedia.org/wiki/Cascading_Style_Sheets" target="_blank" rel="wikipedia">CSS</a> weird? <code>border: 1px solid red</code></p>
<p><a class="zem_slink" title="HTML" href="http://en.wikipedia.org/wiki/HTML" target="_blank" rel="wikipedia">HTML</a> messing with you? Nah, <a class="zem_slink" title="Google Chrome" href="http://www.google.com/chrome" target="_blank" rel="homepage">Chrome</a>&#8216;s element inspector.</p>
<p>But as much as I love <code>console.log</code>, sometimes it just does not do. Sure, if you have a proper test suite <code>console.log</code> is always enough. But you don&#8217;t always have a proper test suite.</p>
<p>Let me explain.</p>
<p>When you want to understand what&#8217;s going on and where exactly a piece of code goes wrong, you do something like this.</p>
<pre lang="javascript">var do_something = function (arg1) {
    console.log("got into function", arg1);
    var foo = get_my_foo(arg1);
    do_another_thing();
    console.log("foo changed?", foo);
    return foo;
}</pre>
<p>Not the prettiest. But it works. You can tell what&#8217;s going on.</p>
<p>You know for certain the function was called, what the argument value was, and you know the value of <code>foo</code> when it returns.</p>
<p>Perfect for calling the code once. But what if it&#8217;s part of a list building mechanism?</p>
<pre lang="javascript">a_lot_of_things.map(function (thing) {
    var label = do_something(thing);
    $("ul").append(
        $("<li></li>").html(label) 
    ); 
});
</pre>
<p>Wellp, now you&#8217;ve got a bunch of console output to look through. Annoying, but manageable. You can still tell which argument produces which output.</p>
<p>But we&#8217;re stretching the limits of <code>console.log</code> here.</p>
<p>Now what if somebody does this?</p>
<pre lang="javascript">async.map(a_lot_of_things,
    function (thing) {
        var label = do_something(thing);
        $("ul").append(
            $("<li></li>").html(label) 
    ); 
});
</pre>
<p>Wow, that&#8217;s annoying. Your <code>do_something</code> function is called asynchronously. The output is all jumbled up!</p>
<p>Very annoying. But you can map input to output in your mind. They&#8217;re both printed right next to each other.</p>
<p>It&#8217;s just harder because you have to read the whole output every time and can&#8217;t jump to the line you&#8217;re interested in. The problem is ALWAYS with just one of the elements. Obviously.</p>
<p>Wow, we&#8217;re really stretching that <code>console.log</code>. Let&#8217;s break it.</p>
<pre lang="javascript">var do_something = function (arg1, callback) {
    console.log("got into function", arg1);
    var foo = get_my_foo(arg1);
    setTimeout(function () {
        do_another_thing();
        console.log("foo changed?", foo);
        callback(foo);
    }, 100);
}

async.map(a_lot_of_things,
    function (thing) {
        do_something(thing, function (label) {
            $("ul").append(
                $("<li></li>").html(label) 
        );
    });
});
</pre>
<p>You wouldn&#8217;t just spray <code>setTimeout</code>s in your code like that. But now you have an asynchronous function. Maybe it&#8217;s an Angular watch, you&#8217;re responding to a promise, or something.</p>
<p>Point is, all of your <code>console.log</code> outputs are now jumbled up and useless. Something like this:</p>
<pre lang="html">got into function, foo1
got into function, foo3
foo changed?, yes
got into function, foo2
foo changed?, no
got into function, foo4
got into function, foo5
foo changed?, yes
foo changed?, no
foo changed?, yes</pre>
<p>Wow, talk about useless!</p>
<p>When faced with a situation like this, I would start adding <code>alert()</code>s to my code. It stops execution and lets you look at the output in a particular moment.</p>
<p>But it blocks the entire browser, you can&#8217;t look around much, and clicking all those pop ups is annoying as hell. Especially once you&#8217;ve found the culprit, but can&#8217;t just refresh the page.</p>
<p><code>alert()</code> disables Cmd+R because it steals focus from the window. You <em>have to</em> get to the end of the loop before you can stop it.</p>
<p>🙁</p>
<p>A few weeks ago I stumbled onto a better way through someone&#8217;s throwaway comment. <code>debugger;</code></p>
<p>It. Is. Magic.</p>
<p>Instead of that second print statement, <code>console.log("foo changed?", foo)</code>, we&#8217;d put <code>debugger;</code>. When Chrome, and other modern browsers?, sees that statement, it stops.</p>
<p>But it doesn&#8217;t just stop. It gives you a debugger.</p>
<div style="width: 690px" class="wp-caption alignnone"><img title="The debugger, initial view" alt="The debugger, initial view" src="https://draftin.com:443/images/25868?token=1zEmDAU3OVJSlTeoV_-MlIhKGCCCgfoUC7N8hUoeHm3DAL0_05-t4wJRfWUEey60ee6oKaloiX4jQmWzTTe9L0E" width="680" height="433" /><p class="wp-caption-text">The debugger, initial view</p></div>
<p>You can&#8217;t see it in the screenshot, but even <a class="zem_slink" title="Graphics Interchange Format" href="http://en.wikipedia.org/wiki/Graphics_Interchange_Format" target="_blank" rel="wikipedia">GIFs</a> are stopped. A moment ago that Santa was dancing, now everything is in <em>&#8220;Holy shit, he&#8217;s debugging!&#8221;</em> mode.</p>
<p>The code that triggered <code>debugger;</code> is in the middle. A bunch of inspection tools are on the right. On top of the screen is an <em>&#8220;I&#8217;m done now, please continue&#8221;</em> button.</p>
<p>But more importantly, the console is in current scope! You can do whatever you want.</p>
<div style="width: 660px" class="wp-caption alignnone"><img title="Console is in current scope" alt="Console is in current scope" src="https://draftin.com:443/images/25870?token=9bSZRyT_hfsRlr-vW233TKP2Xmaw6Gi4G8YS9OifD0uKIdgskr0lEQCmbprxw9zNar_PJrUrKAMc-PCKJDgDszs" width="650" height="217" /><p class="wp-caption-text">Console is in current scope</p></div>
<p>And once you&#8217;ve found the culprit, you can just refresh the page. No waiting for all the <code>alert()</code>s to show up.</p>
<p>Now, I&#8217;m not going to stop using <code>console.log</code> any time soon. But knowing about <code>debugger</code> has made my life easier many times.</p>
<p>I only wish I&#8217;d known about it sooner.</p>
</div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-components-post-js","jsonName":"post-javascript-debugging-slightly-beyond-console-log-a51","path":"/post/javascript-debugging-slightly-beyond-console-log/"};window.dataPath="375/path---post-javascript-debugging-slightly-beyond-console-log-a-51-cff-cjnCWJVjT04DGP7fcbX2jiI6IY";/*]]>*/</script><script src="/swizecblog/webpack-runtime-fb9019140f39a903448b.js" async=""></script><script src="/swizecblog/app-e5d3c6935dd41a7392ed.js" async=""></script><script src="/swizecblog/0-7538a10af02717828d76.js" async=""></script><script src="/swizecblog/component---src-components-post-js-a296f4540b7641f60fd0.js" async=""></script></body></html>