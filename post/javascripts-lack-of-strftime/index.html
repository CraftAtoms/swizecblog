<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/swizecblog/component---src-components-post-js.345c7c4f16662f410581.css">@import url(https://fonts.googleapis.com/css?family=Lora);
html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:Lora,serif}body{background-color:#f6f6f6;margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Lora,serif;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em georgia,serif;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{-moz-font-feature-settings:"kern","liga","clig","calt";-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";color:rgba(0,0,0,.8);font-family:Lora,serif;font-feature-settings:"kern","liga","clig","calt";font-kerning:normal;font-weight:400;word-wrap:break-word}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-family:Lora,serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem;word-wrap:normal}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:Lora,serif;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}

/*# sourceMappingURL=component---src-components-post-js.345c7c4f16662f410581.css.map*/</style><style data-styled-components="cEsjyT hklXLQ gpHXOM cTUdjA">
/* sc-component-id: sc-bdVaJa */
.cEsjyT{margin:3rem auto;max-width:960px;padding:1.25rem 1rem;} .cEsjyT ul{margin:0 0 0px 0;list-style:none;float:right;}
/* sc-component-id: sc-bwzfXH */
.cTUdjA{-webkit-text-decoration:none;text-decoration:none;text-align:right;margin:0 .5rem 0 .5rem;padding:10px;color:#7c51a1;} .cTUdjA:hover{color:#fff;background-color:#7c51a1;}
/* sc-component-id: sc-htpNat */
.gpHXOM{-webkit-text-decoration:none;text-decoration:none;color:black;} .gpHXOM:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#7c51a1;} .gpHXOM h3{display:inline;font-size:30px;}
/* sc-component-id: sc-bxivhb */
.hklXLQ{margin:0 3rem 4.5rem;}</style><title data-react-helmet="true">Swizec Blog</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link as="script" rel="preload" href="/swizecblog/component---src-components-post-js-352e8466f0cbd742adc0.js"/><link as="script" rel="preload" href="/swizecblog/0-7538a10af02717828d76.js"/><link as="script" rel="preload" href="/swizecblog/app-e5d3c6935dd41a7392ed.js"/><link as="script" rel="preload" href="/swizecblog/webpack-runtime-bf7869bd5fe0e771eaf7.js"/><link rel="preload" href="/swizecblog/static/d/893/path---post-javascripts-lack-of-strftime-ef-3-4ef-lbk2BawgsN0HQHmMgHiRFU0Usv8.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div><div class="sc-bdVaJa cEsjyT"><div class="sc-bxivhb hklXLQ"><a class="sc-htpNat gpHXOM" href="/swizecblog/"><h3>Swizec Teller</h3></a><ul><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Business/">Business</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Personal/">Personal</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Technical/">Technical</a><a class="sc-bwzfXH cTUdjA" href="/swizecblog/Thoughts/">Thoughts</a></ul></div><h1>Javascript&#8217;s lack of strftime</h1><div><p>You know that one piece of shitty code that always makes you cringe? Something along the lines of <em>months = [&#8216;Jan&#8217;, &#8216;Feb&#8217; &#8230;.]; dateString = date.day()+&#8217; &#8216;+months[date.month()];</em></p>
<div style="width: 310px" class="wp-caption alignright"><a href="http://commons.wikipedia.org/wiki/File:Nice_air-raid_siren.jpg"><img class="zemanta-img-inserted zemanta-img-configured" title="An air-raid siren in Nice, France, is still op..." src="http://swizec.com/blog/wp-content/uploads/2011/12/300px-Nice_air-raid_siren2.jpg" alt="An air-raid siren in Nice, France, is still op..." width="300" height="225" /></a><p class="wp-caption-text">Image via Wikipedia</p></div>
<p>Yeah <strong>that</strong> piece of code. Let&#8217;s talk about <em>that</em>.</p>
<p>It sucks. There is a special circle of hell for people who do it and yet JavaScript developers are forced to doing it all the freaking time!</p>
<p>In <a class="zem_slink" title="JavaScript" href="http://en.wikipedia.org/wiki/JavaScript" rel="wikipedia">JavaScript</a> that&#8217;s the only way you can do it. I shit you not.</p>
<p>A couple of days ago I caught myself writing code like that and red flags and alarms and air-raid sirens started going off in my head. I felt like that proverbial axe murderer reading my code who knows where I live was already breathing down my neck.</p>
<p>Scary situation that.</p>
<p>But when I went looking for an elegant way of coercing datetime into a <a class="zem_slink" title="String (computer science)" href="http://en.wikipedia.org/wiki/String_%28computer_science%29" rel="wikipedia">string</a>, I found the whole situation rather lacking. Turns out JavaScript doesn&#8217;t have a native <a class="zem_slink" title="Time.h" href="http://en.wikipedia.org/wiki/Time.h" rel="wikipedia">strftime</a> function even though it is surprisingly brilliant in converting strings to native representations.</p>
<h2>String -&gt; Date</h2>
<p>Have a string? Want a date? JavaScript&#8217;s got your back bro!</p>
<pre lang="javascript">// all of this correctly returns a millisecond timestamp since unix epoch
// the string argument can also be passed to the date constructor by the way (returns a correct Date object)
Date.parse("Aug 9, 1995")
Date.parse("Wed, 09 Aug 1995 00:00:00 GMT")
Date.parse("Wed, 09 Aug 1995 00:00:00")
Date.parse("Thu, 01 Jan 1970 00:00:00 GMT")
Date.parse("Thu, 01 Jan 1970 00:00:00")
Date.parse("Thu, 01 Jan 1970 00:00:00 GMT-0400")</pre>
<h2>Date -&gt; String</h2>
<p>Have a date and want a string? You&#8217;re shit out of luck son.</p>
<p>Pretty much the only date to string conversions javascript natively supports is returning a locale string, which is nonstandard and varies greatly computer to computer, and forms of standardized <a class="zem_slink" title="ISO 8601" href="http://en.wikipedia.org/wiki/ISO_8601" rel="wikipedia">ISO time</a>. It can do this and only this in numerous ways even!</p>
<pre lang="javascript">> var d = new Date()
> d
Mon, 12 Dec 2011 11:28:55 GMT
> d.toString()
'Mon Dec 12 2011 12:28:55 GMT+0100 (CET)'
> d.toDateString()
'Mon Dec 12 2011'
> d.toISOString()
'2011-12-12T11:28:55.401Z'
> d.toJSON()
'2011-12-12T11:28:55.401Z'
> d.toGMTString()
'Mon, 12 Dec 2011 11:28:55 GMT'
> d.toLocaleDateString()
'Monday, December 12, 2011'
> d.toLocaleString()
'Mon Dec 12 2011 12:28:55 GMT+0100 (CET)'
> d.toLocaleTimeString()
'12:28:55'
> d.toString()
'Mon Dec 12 2011 12:28:55 GMT+0100 (CET)'
> d.toTimeString()
'12:28:55 GMT+0100 (CET)'
> d.toUTCString()
'Mon, 12 Dec 2011 11:28:55 GMT'
</pre>
<p>Notice how none of those functions accept a format parameter? Sure, you could get those strings and hack them apart to create a string formatted to your liking &#8230; but I&#8217;m not sure that&#8217;s the ideal approach.</p>
<p>And let&#8217;s not even get into wanting to coerce a 12-hour time format out of this thing. Perhaps if your computer is situated in the US the localeString would return that?</p>
<p>However I was able to find a jquery plugin that implements <a href="http://projects.nocternity.net/index.py/en/jquery-strftime" target="_blank">a rough strftime function</a>, although it doesn&#8217;t seem to have been actively worked on for the past three years and there are many things missing.</p>
<h2>What?</h2>
<p>So there you have it. JavaScript&#8217;s epic and yet abysmally poor support for date-&gt;string conversions.</p>
<p>What do you think is it about the javascript ecosystem that tolerates this? Countless developers must have been implementing shitty code because of this and nobody has thought to complain? Nobody has gone so far as to suggest adding a simple strftime function to the language? Most popular languages seem to have this in their standard library &#8230;</p>
<h6 class="zemanta-related-title" style="font-size: 1em;">Related articles</h6>
<ul class="zemanta-article-ul">
<li class="zemanta-article-ul-li"><a href="http://stackoverflow.com/questions/8472154/javascript-how-to-get-the-name-of-the-key-inside-a-function">JavaScript &#8211; How to get the name of the key inside a function</a> (stackoverflow.com)</li>
<li class="zemanta-article-ul-li"><a href="http://stackoverflow.com/questions/8470712/javascript-random-color-function-control-brightness-and-contrast">Javascript &#8211; Random Color Function (control brightness and contrast)</a> (stackoverflow.com)</li>
<li class="zemanta-article-ul-li"><a href="http://stackoverflow.com/questions/7728251/string-containing-the-literal-of-a-string-in-javascript">String containing the literal of a string in JavaScript</a> (stackoverflow.com)</li>
<li class="zemanta-article-ul-li"><a href="http://marketing.yell.com/web-design/javascript-brief-introduction/">Javascript: A very brief introduction</a> (marketing.yell.com)</li>
</ul>
<div class="zemanta-pixie" style="margin-top: 10px; height: 15px;"><a class="zemanta-pixie-a" title="Enhanced by Zemanta" href="http://www.zemanta.com/"><img class="zemanta-pixie-img" style="border: none; float: right;" src="http://img.zemanta.com/zemified_e.png?x-id=2aa80621-36dc-42f1-9d5a-f303dc5fe62b" alt="Enhanced by Zemanta" /></a></div>
</div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-components-post-js","jsonName":"post-javascripts-lack-of-strftime-ef3","path":"/post/javascripts-lack-of-strftime/"};window.dataPath="893/path---post-javascripts-lack-of-strftime-ef-3-4ef-lbk2BawgsN0HQHmMgHiRFU0Usv8";/*]]>*/</script><script src="/swizecblog/webpack-runtime-bf7869bd5fe0e771eaf7.js" async=""></script><script src="/swizecblog/app-e5d3c6935dd41a7392ed.js" async=""></script><script src="/swizecblog/0-7538a10af02717828d76.js" async=""></script><script src="/swizecblog/component---src-components-post-js-352e8466f0cbd742adc0.js" async=""></script></body></html>