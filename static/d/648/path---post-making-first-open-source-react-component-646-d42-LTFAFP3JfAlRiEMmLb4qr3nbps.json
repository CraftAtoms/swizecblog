{"data":{"wordpressPost":{"title":"What I learned making my first open source React component","content":"<p>Dude, open source is hard. People really do this every day!? ðŸ¤¨</p>\n<p>I open sourced my <a href=\"https://github.com/Swizec/react-lazyload-fadein\">react-lazyload-fadein</a> component this weekend. 75 stars already. I guess people like it ðŸ’ª</p>\n<img src=\"https://github.com/Swizec/react-lazyload-fadein/raw/master/react-lazyload-fadein.gif?raw=true\" />\n<p>It builds on top of react-lazyload to give you a nice fade-in effect when your component is ready. Lazyload means users load less stuff and your page appears faster because you&#8217;re not rendering complex expensive components until they&#8217;re visible. Fade-in means they don&#8217;t pop onto the page and startle your user.</p>\n<img src=\"https://media.giphy.com/media/3o7TKQN2ni0e1B4gpy/giphy.gif\" alt=\"When you lazyload components without FadeIn\" />\n<p><a href=\"https://swizec.com/blog/fade-in-lazy-loaded-images-react-css-quick-guide/swizec/8163\">Building the <FadeIn> component</a> was pretty quick. Learn the new API for React transitions, realize images have an <code>onLoad</code> event, package it up in a component. Easy ðŸ‘Œ</p>\n<p>Then open sourcing itâ€¦ that took 4 hours. Because open source is hard.</p>\n<p>You can see half of the <a href=\"https://www.youtube.com/watch?v=vPHWS9Kk9lI\">process on YouTube</a>. The other half got banned because of the music.</p>\n<p><iframe width=\"580\" height=\"326\" src=\"https://www.youtube.com/embed/vPHWS9Kk9lI?feature=oembed\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe></p>\n<p>Here are a few lessons I learned:</p>\n<h2>Use nwb to get started</h2>\n<blockquote class=\"twitter-tweet\" data-width=\"550\" data-dnt=\"true\">\n<p lang=\"en\" dir=\"ltr\">Is there a create-react-app for components? I want to make an opensource component but not sure how to start.</p>\n<p>create-react-component exists but seems way old</p>\n<p>Maybe <a href=\"https://twitter.com/thekitze?ref_src=twsrc%5Etfw\">@thekitze</a> <a href=\"https://twitter.com/lukeed05?ref_src=twsrc%5Etfw\">@lukeed05</a> <a href=\"https://twitter.com/kentcdodds?ref_src=twsrc%5Etfw\">@kentcdodds</a> have suggestions?</p>\n<p>&mdash; Swizec (@Swizec) <a href=\"https://twitter.com/Swizec/status/965102216603344896?ref_src=twsrc%5Etfw\">February 18, 2018</a></p></blockquote>\n<p><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></p>\n<p>When you start a new React app, you use <code>create-react-app</code>. It sets everything up for you. Babel, webpack, a dev server, some HTML, production builds, all the things.</p>\n<p>But you don&#8217;t need most of that when you&#8217;re building a component. You wouldn&#8217;t want to minify before publishing to <a href=\"https://www.npmjs.com/\">npmjs</a>, for example. You definitely don&#8217;t need to add a bunch of HTML and CSS.</p>\n<p>I mean, probably. You might need styling.</p>\n<p>Point is, you are trying to publish an isolated component. You still need <em>some</em> build step for shipping and some way of running the component when testing. But you don&#8217;t need CRA.</p>\n<p><a href=\"https://github.com/insin/nwb/blob/master/docs/guides/ReactComponents.md#developing-react-components-and-libraries-with-nwb\">Use <code>nwb</code> instead</a>.</p>\n<pre><code>nwb new react-component react-bla\n</code></pre>\n<p>This sets you up. A <code>src</code> folder for your code, a <code>demo</code> folder for your demo app (plus dev server and hot loading, yay\\o/), a <code>test</code> folder that you should use and I didn&#8217;t, some build stuff for shippingâ€¦</p>\n<p>Basically, it gives you everything you need so you can focus on your component and don&#8217;t have to worry about the details.</p>\n<h2>Make a demo page with docs</h2>\n<p>You need a demo page so you can show off your component in action. People are visual creatures, and they don&#8217;t like to read descriptions.</p>\n<p>Show them what you built.</p>\n<p><a href=\"https://react-lazyload-fadein.now.sh/\">react-lazyload-fadein</a>, for example, has a <a href=\"https://react-lazyload-fadein.now.sh/\">demo page</a> that shows off different ways you can use it. The page is long enough for you to see the fade-in effect.</p>\n<p>The demo page doubles as docs. People can scroll to the integration they like and see how to build it right away.</p>\n<p>That part took a while because nwb&#8217;s demo pages are quite basic. No Gatsby machinery to slurp in your README file and make a page.</p>\n<p>There&#8217;s an idea ðŸ¤”</p>\n<h2>Decent docs take time</h2>\n<p>People will find out about your component in different ways. Some will see it on GitHub, others will come to your demo page, many will see it on <a href=\"http://npmjs.com\">npmjs.com</a>.</p>\n<p>Your documentation has to live in at least two places:</p>\n<ol>\n<li>Your README.md file</li>\n<li>Your demo page</li>\n</ol>\n<p>Both GitHub and npmjs.com give special rights to your README. It shows up as your component&#8217;s homepage.</p>\n<p>So it better be good. Add a gif or two. All the code samples someone needs to get started. Explain <em>why</em> they&#8217;d wanna use it.</p>\n<p>This duplication is annoying and creates work for you. But it&#8217;s worth it, I think. Especially if someone could figure out how to slurp in the README file and make that demo page for you ðŸ¤”</p>\n<h2>Support different patterns</h2>\n<p>The React community is a bit silly and loves to invent new patterns to bicker about. Function as children, render props, import this way or that way.</p>\n<p>Your component should support everything that&#8217;s practical. That makes you a good citizen in other people&#8217;s codebases.</p>\n<p>Someone likes to do <code>import FadeIn from 'react-lazyload-fadein'</code>? They can.</p>\n<p>They prefer <code>import { FadeIn } from 'react-lazyload-fadein'</code>? They can do that, too.</p>\n<p>Wanna use function as children, my favorite? Yep, it works.</p>\n<pre><code>&lt;FadeIn&gt;{onload =&gt; &lt;MyThing onLoad={onload} /&gt;}&lt;/FadeIn&gt;\n</code></pre>\n<p>Using render props in your codebase? That works too.</p>\n<pre><code>&lt;FadeIn render={onload =&gt; &lt;MyThing onLoad={onload} /&gt;} /&gt;\n</code></pre>\n<p>You shouldn&#8217;t have to compromise your code style to use my component. My job isn&#8217;t to encourage this or that pattern. My job is to give you a tool that you can use to make your life easier.</p>\n<p>And you know how hard it is to support both patterns?</p>\n<pre lang=\"javascript\">\nrender() {\n    const { children, render } = this.props;\n    return (\n        <div>\n            {children && children(this.onLoad)}\n            {render && render(this.onLoad)}\n        </div>\n    )\n}\n</pre>\n<p>Yeah, sooooo hard. Just do it.</p>\n<h2>Do it more often</h2>\n<img class=\"alignnone size-full wp-image-8203\" src=\"https://swizec.com/blog/wp-content/uploads/2018/02/shia-labeouf-do-it-1.gif\" width=\"618\" height=\"340\" />\n<blockquote><p>\nPeople don&#8217;t want to learn to fish. People want fish.\n</p></blockquote>\n<p>Building things and writing about them is great. Great for your skills, great for your career, great for just about everything. Gives you more luck.</p>\n<p>Even just tweeting or posting on FB about what you&#8217;re working on is better than keeping mum and chugging away. Ask anyone.</p>\n<p>You know what&#8217;s even better?</p>\n<p>Giving people tools.</p>\n<p>You&#8217;re not just telling them what to do, you&#8217;re ensuring they have less to do. Everyone loves having less to do.</p>\n<p>I should do it more often, too. ðŸ™‚</p>\n<p><em>This is a Livecoding Recap â€“ an almost-weekly post about interesting things discovered while livecoding. Usually shorter than 500 words. Often with pictures. Livecoding happens almost <strong>every Sunday at 2pm PDT</strong> on multiple channels. You should subscribe to <a href=\"https://www.youtube.com/TheSwizec\">My Youtube</a> channel to catch me live.</em></p>\n"},"site":{"siteMetadata":{"title":"Swizec Blog","subtitle":"Fetch Data From Local WP Install"}}},"pageContext":{"id":"3ff45882-237a-5d69-92f8-b7c2e6d4111f"}}