{"data":{"wordpressPost":{"title":"How CamelCase ruined my day and my dev environment","content":"<div style=\"width: 250px\" class=\"wp-caption alignright\"><a href=\"http://www.flickr.com/photos/22823034@N00/7297820998\" target=\"_blank\"><img class=\"zemanta-img-inserted zemanta-img-configured\" title=\"Bitcoin Magazine\" src=\"http://farm8.static.flickr.com/7082/7297820998_d94789a144_m.jpg\" alt=\"Bitcoin Magazine\" width=\"240\" height=\"135\" /></a><p class=\"wp-caption-text\">Bitcoin Magazine (Photo credit: zcopley)</p></div>\n<p>Yesterday everything went so comically wrong I just have to share. This post might be more a confession than a tale of warning, you be the judge.</p>\n<p>My objective, convert prices in USD to prices in bitcoin. Simple. Especially after I discovered someone&#8217;s already made a <a href=\"https://github.com/sferik/mtgox\" target=\"_blank\">gem that talks to the MtGox exchange</a> and tells me how much a single BTC is worth.</p>\n<p>All I had to do was this:</p>\n<pre lang=\"console\">Gemfile:\r\ngem 'mtgox'\r\n\r\nbundle install\r\n\r\nController:\r\nprice/MtGox.ticker.sell</pre>\n<p>Simple, right?</p>\n<p>Because I like to make sure I&#8217;m working from a sane state I first ran the test suite. <a class=\"zem_slink\" title=\"Ruby (programming language)\" href=\"http://www.ruby-lang.org/\" rel=\"homepage\" target=\"_blank\">Ruby</a> core dump.</p>\n<p>Right, I&#8217;ve been having these problems randomly for about a week now and they usually go away if you run the tests twice or thrice. This time, it just did not work. I got a ruby core dump, <em>you have probably encountered a ruby bug</em> every single time.</p>\n<p>No wonder! My Ruby interpreter is going to be a year old in a few days! Let&#8217;s update. It all went downhill from that. And not in a pleasant adrenaline rush kind of way either.</p>\n<p>After about an hour of fiddling with RVM and Ruby versions and aliasing things from <em>~/.rvm/bin/</em> to <em>/usr/bin/</em> the tests are finally running and I can begin.</p>\n<p>Mtgox is not defined.</p>\n<p>Hmm &#8230; okay then. I thought Rails automagically loaded all gems specified in the Gemfile. A quick google later and I discovered that I can list all loaded gems with <em>Gem.loaded_specs.keys</em>.</p>\n<p>Sure thing, the gem was loaded.</p>\n<p>Right, let&#8217;s make a separate ruby file and make sure things are working.</p>\n<pre lang=\"ruby\">require 'rubygems'\r\nrequire 'mtgox'\r\n\r\nputs Mtgox.ticker.sell</pre>\n<p>No such gem &#8220;mtgox&#8221;.</p>\n<p>Grrrr, okay fine. <em>gem install mtgox</em> &#8230; already installed, wtf are you doing Swizec, you have that? Oh right, I did just update my Ruby stuff and maybe broke the environment and require paths are confused.</p>\n<p>Let&#8217;s try this on my mac, I haven&#8217;t done any fiddling there.</p>\n<p>The mtgox gem only works with Ruby 1.9.2+, you have 1.8.7 &#8230; that&#8217;s what you get for using your expensive laptop as a Skype and <a class=\"zem_slink\" title=\"Internet Relay Chat\" href=\"http://en.wikipedia.org/wiki/Internet_Relay_Chat\" rel=\"wikipedia\" target=\"_blank\">IRC</a> machine. I can just update this, no problem!</p>\n<p>Your Homebrew is out of date. Your <a class=\"zem_slink\" title=\"Xcode\" href=\"http://developer.apple.com/tools/xcode/\" rel=\"homepage\" target=\"_blank\">XCode</a> does not exist. I have no idea what you&#8217;re trying to do!</p>\n<p>Grargh.</p>\n<p>Fiddle fiddle fiddle and I eventually get Homebrew installed after at least an hour of <em>effort</em>. Let&#8217;s try that RVM thing once again.</p>\n<p>After several fails with automake and sometimes just simply saying <em>&#8220;Hey, an error happened&#8221; </em>and the log looking perfectly fine I finally got it to start installing Ruby.</p>\n<pre lang=\"console\">ruby-1.9.3-p392 - #configuring........\r\nruby-1.9.3-p392 - #compiling.\r\nruby-1.9.3-p392 - #installing .\r\nruby-1.9.3-p392 is not installed.\r\nTo install do: 'rvm install ruby-1.9.3-p392'</pre>\n<p>What?</p>\n<p>Fine, I give up on you laptop, we will pick this fight another day. Back to the Ubuntu box.</p>\n<p>After deleting all Ruby binaries from <em>/usr/bin</em> it finally decided to start using things in <em>~/.rvm/</em> and lo and behold, I can require the mtgox gem.</p>\n<p>Mtgox is undefined.</p>\n<p>God damn it! What now!? What could possibly be wrong now!?</p>\n<p>Find the source. Add some puts. Yes, yes the gem <strong>is</strong> getting loaded. It&#8217;s printing to the console and I can &#8230; wait a minute. It says <em>module MtGox</em>, not <em>module Mtgox</em></p>\n<p>Oh for fuck&#8217;s sake! Capital G &#8230; All this time. All this effort. And I never, not once, noticed the module was <a class=\"zem_slink\" title=\"CamelCase\" href=\"http://en.wikipedia.org/wiki/CamelCase\" rel=\"wikipedia\" target=\"_blank\">CamelCase</a> instead of just capital first letter.</p>\n<p>Sigh.</p>\n<p>Oh, now running <em>bundle</em> says bundler isn&#8217;t installed <em>even though I just ran it!</em> What now &#8230;</p>\n<div class=\"zemanta-pixie\" style=\"margin-top: 10px; height: 15px;\"><a class=\"zemanta-pixie-a\" title=\"Enhanced by Zemanta\" href=\"http://www.zemanta.com/?px\"><img class=\"zemanta-pixie-img\" style=\"border: none; float: right;\" src=\"http://img.zemanta.com/zemified_e.png?x-id=95c13b44-f693-4055-889c-13011575bd3e\" alt=\"Enhanced by Zemanta\" /></a></div>\n"},"site":{"siteMetadata":{"title":"Swizec Blog","subtitle":"Fetch Data From Local WP Install"}}},"pageContext":{"id":"cf163f00-f3c1-5cb2-b678-16940226832a"}}